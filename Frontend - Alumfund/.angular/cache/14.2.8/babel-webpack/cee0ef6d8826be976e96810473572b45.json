{"ast":null,"code":"import _asyncToGenerator from \"D:/alumfundv6/frontend_v6_x/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FacultyReg } from '../facultyReg';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../studAlum.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction BitsfundloginComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 27);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.loginMsg, \"\\n\");\n  }\n}\n\nexport class BitsfundloginComponent {\n  constructor(service, router) {\n    this.service = service;\n    this.router = router;\n    this.submitted = false;\n    this.loginMsg = '';\n    this.facultyObj = new FacultyReg();\n    this.facultyName = \"\";\n  }\n\n  ngOnInit() {}\n\n  onSubmit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.submitted = true;\n      _this.facultyObj.empDept = '';\n      _this.facultyObj.empEmail = '';\n      _this.facultyObj.empStatus = '';\n      _this.facultyObj.empName = '';\n      console.log(_this.facultyObj);\n      yield _this.service.getFacultyName(_this.facultyObj.empId).subscribe(res => {\n        _this.facultyName = res;\n      });\n\n      _this.service.checkFacultyLogin(_this.facultyObj).subscribe(res => {\n        // alert(res)\n        res = res.split(',');\n        console.log(res[0]);\n        console.log(res[1]);\n        if (res[0] == '[\"Registration Pending with Admin\"') _this.loginMsg = \"Registration Pending with Admin\";else if (res[0] == '[\"Rejected\"') _this.loginMsg = \"Registration Rejected. Contact Administrator.\";else if (res[0] == '[\"Invalid password\"') _this.loginMsg = \"Invalid password\";else if (res[0] == '[\"User not found!\"') _this.loginMsg = \"User not found!\";else if (res[0] == '[\"Successful login\"') {\n          if (res[1] == '\"Faculty\"]') {\n            _this.router.navigateByUrl(\"/bitsfundpostlogin\");\n\n            localStorage.setItem('facultyUserId', _this.facultyObj.empId);\n            localStorage.setItem('facultyName', _this.facultyName);\n            localStorage.setItem('facultyPassword', _this.facultyObj.empPassword);\n            console.log(localStorage);\n          } else _this.router.navigateByUrl(\"/bitsfundlogin\");\n        }\n      }, error => console.log(error));\n    })();\n  }\n\n}\n\nBitsfundloginComponent.ɵfac = function BitsfundloginComponent_Factory(t) {\n  return new (t || BitsfundloginComponent)(i0.ɵɵdirectiveInject(i1.StudentAlumniService), i0.ɵɵdirectiveInject(i2.Router));\n};\n\nBitsfundloginComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: BitsfundloginComponent,\n  selectors: [[\"app-bitsfundlogin\"]],\n  decls: 36,\n  vars: 3,\n  consts: [[\"style\", \" text-align: center; background-color:rgb(252, 91, 91); color: white;\", 4, \"ngIf\"], [1, \"vh-100\", 2, \"background-color\", \"#eee\"], [1, \"container\", \"h-100\"], [1, \"row\", \"d-flex\", \"justify-content-center\", \"align-items-center\", \"h-100\"], [1, \"col-lg-12\", \"col-xl-9\"], [1, \"card\", \"text-black\", 2, \"border-radius\", \"25px\"], [1, \"card-body\", \"p-md-4\"], [1, \"row\", \"justify-content-center\"], [1, \"col-md-10\", \"col-lg-6\", \"col-xl-5\", \"order-2\", \"order-lg-1\"], [1, \"text-center\", \"h1\", \"fw-bold\", \"mb-4\", \"mx-1\", \"mx-md-4\", \"mt-4\"], [1, \"mx-1\", \"mx-md-4\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"form-group\"], [1, \"d-flex\", \"flex-row\", \"align-items-center\", \"mb-4\"], [1, \"fas\", \"fa-user\", \"fa-lg\", \"me-3\", \"fa-fw\"], [1, \"form-outline\", \"flex-fill\", \"mb-0\"], [\"for\", \"form3Example1c\", 1, \"form-label\"], [\"type\", \"text\", \"id\", \"empId\", \"name\", \"empId\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"fas\", \"fa-lock\", \"fa-lg\", \"me-3\", \"fa-fw\"], [\"for\", \"form3Example4c\", 1, \"form-label\"], [\"type\", \"password\", \"id\", \"empPassword\", \"name\", \"empPassword\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [1, \"d-flex\", \"justify-content-center\", \"mx-4\", \"mb-3\", \"mb-lg-4\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-xl\"], [1, \"login\"], [\"href\", \"bitsfundreg\"], [1, \"col-md-4\", \"col-lg-2\", \"col-xl-5\", \"d-flex\", \"align-items-center\", \"order-1\", \"order-lg-0\"], [\"id\", \"signupimg\", \"src\", \"assets/Images/login-image.jpg\", \"alt\", \"Sample image\", 1, \"img-fluid\"], [2, \"text-align\", \"center\", \"background-color\", \"rgb(252, 91, 91)\", \"color\", \"white\"]],\n  template: function BitsfundloginComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtemplate(0, BitsfundloginComponent_div_0_Template, 2, 1, \"div\", 0);\n      i0.ɵɵelementStart(1, \"section\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4)(5, \"div\", 5)(6, \"div\", 6)(7, \"div\", 7)(8, \"div\", 8)(9, \"p\", 9);\n      i0.ɵɵtext(10, \"Log In\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"form\", 10, 11);\n      i0.ɵɵlistener(\"ngSubmit\", function BitsfundloginComponent_Template_form_ngSubmit_11_listener() {\n        return ctx.onSubmit();\n      });\n      i0.ɵɵelementStart(13, \"div\", 12)(14, \"div\", 13);\n      i0.ɵɵelement(15, \"i\", 14);\n      i0.ɵɵelementStart(16, \"div\", 15)(17, \"label\", 16);\n      i0.ɵɵtext(18, \"Employee Id\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"input\", 17);\n      i0.ɵɵlistener(\"ngModelChange\", function BitsfundloginComponent_Template_input_ngModelChange_19_listener($event) {\n        return ctx.facultyObj.empId = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(20, \"div\", 12)(21, \"div\", 13);\n      i0.ɵɵelement(22, \"i\", 18);\n      i0.ɵɵelementStart(23, \"div\", 15)(24, \"label\", 19);\n      i0.ɵɵtext(25, \"Password\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 20);\n      i0.ɵɵlistener(\"ngModelChange\", function BitsfundloginComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.facultyObj.empPassword = $event;\n      });\n      i0.ɵɵelementEnd()()()();\n      i0.ɵɵelementStart(27, \"div\", 21)(28, \"button\", 22);\n      i0.ɵɵtext(29, \"Login\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(30, \"div\", 23);\n      i0.ɵɵtext(31, \" Don't Have An Account? \");\n      i0.ɵɵelementStart(32, \"a\", 24);\n      i0.ɵɵtext(33, \" Create an account \");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(34, \"div\", 25);\n      i0.ɵɵelement(35, \"img\", 26);\n      i0.ɵɵelementEnd()()()()()()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngIf\", ctx.submitted);\n      i0.ɵɵadvance(19);\n      i0.ɵɵproperty(\"ngModel\", ctx.facultyObj.empId);\n      i0.ɵɵadvance(7);\n      i0.ɵɵproperty(\"ngModel\", ctx.facultyObj.empPassword);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.NgModel, i4.NgForm],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJiaXRzZnVuZGxvZ2luLmNvbXBvbmVudC5jc3MifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["FacultyReg","i0","BitsfundloginComponent","constructor","service","router","ngOnInit","onSubmit","submitted","facultyObj","empDept","empEmail","empStatus","empName","console","log","getFacultyName","empId","subscribe","res","facultyName","checkFacultyLogin","split","loginMsg","navigateByUrl","localStorage","setItem","empPassword","error","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["D:\\alumfundv6\\frontend_v6_x\\src\\app\\bitsfundlogin\\bitsfundlogin.component.ts","D:\\alumfundv6\\frontend_v6_x\\src\\app\\bitsfundlogin\\bitsfundlogin.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { FacultyReg } from '../facultyReg';\nimport { Registration } from '../registration';\nimport { StudentAlumniService } from '../studAlum.service';\n\n@Component({\n  selector: 'app-bitsfundlogin',\n  templateUrl: './bitsfundlogin.component.html',\n  styleUrls: ['./bitsfundlogin.component.css']\n})\nexport class BitsfundloginComponent implements OnInit {\n\n  submitted:boolean = false;\n  loginMsg : string = '';\n\n  facultyObj : FacultyReg = new FacultyReg();\n  facultyName:string = \"\";\n  \n\n  constructor(private service : StudentAlumniService, private router:Router) { }\n\n  ngOnInit(): void {\n\n  }\n\n  async onSubmit(){\n    this.submitted = true;\n    this.facultyObj.empDept = '';\n    this.facultyObj.empEmail = '';\n    this.facultyObj.empStatus = '';\n    this.facultyObj.empName = '';\n\n\n\n    console.log(this.facultyObj);\n  \n\n    await this.service.getFacultyName(this.facultyObj.empId).subscribe(res =>{\n       this.facultyName = res;\n\n     });\n\n    this.service.checkFacultyLogin(this.facultyObj).subscribe(res =>{\n      // alert(res)\n      res = res.split(',')\n      \n      console.log(res[0])\n      console.log(res[1])\n\n\n\n\n      if(res[0] == '[\"Registration Pending with Admin\"')\n        this.loginMsg = \"Registration Pending with Admin\"\n      else if(res[0] == '[\"Rejected\"')\n        this.loginMsg = \"Registration Rejected. Contact Administrator.\"\n      else if (res[0] == '[\"Invalid password\"')\n        this.loginMsg = \"Invalid password\"\n      else if (res[0] == '[\"User not found!\"')\n        this.loginMsg = \"User not found!\"\n      else if (res[0] == '[\"Successful login\"')\n      {\n        if(res[1] == '\"Faculty\"]')\n          {this.router.navigateByUrl(\"/bitsfundpostlogin\")\n          localStorage.setItem('facultyUserId', this.facultyObj.empId)\n          localStorage.setItem('facultyName', this.facultyName )\n          localStorage.setItem('facultyPassword', this.facultyObj.empPassword)  \n          console.log(localStorage)\n\n      }\n          \n        else\n          this.router.navigateByUrl(\"/bitsfundlogin\")\n      }\n        \n\n\n  }, error => console.log(error));\n    \n}\n\n}\n","<!-- <button class=\"btn btn-primary\">click</button> -->\n\n\n\n<div *ngIf=\"submitted\" style=\" text-align: center; background-color:rgb(252, 91, 91); color: white;\">\n    {{loginMsg}}\n</div>\n\n\n<section class=\"vh-100\" style=\"background-color: #eee;\">\n    <div class=\"container h-100\">\n      <div class=\"row d-flex justify-content-center align-items-center h-100\">\n        <div class=\"col-lg-12 col-xl-9\">\n          <div class=\"card text-black\" style=\"border-radius: 25px;\">\n            <div class=\"card-body p-md-4\">\n              <div class=\"row justify-content-center\">\n                <div class=\"col-md-10 col-lg-6 col-xl-5 order-2 order-lg-1\">\n  \n                  <p class=\"text-center h1 fw-bold mb-4 mx-1 mx-md-4 mt-4\">Log In</p>\n  \n                  <form class=\"mx-1 mx-md-4\" #form=\"ngForm\" (ngSubmit)=\"onSubmit()\">\n  \n                    <div class=\"form-group\">\n                    <div class=\"d-flex flex-row align-items-center mb-4\">\n                      <i class=\"fas fa-user fa-lg me-3 fa-fw\"></i>\n                      <div class=\"form-outline flex-fill mb-0\">\n                          <label class=\"form-label\" for=\"form3Example1c\">Employee Id</label>\n                        <input type=\"text\" id=\"empId\" name=\"empId\"\n                           [(ngModel)] = \"facultyObj.empId\"  class=\"form-control\" />\n                      </div>\n                    </div>\n                    </div>\n  \n                                        \n                    <div class=\"form-group\">\n                    <div class=\"d-flex flex-row align-items-center mb-4\">\n                      <i class=\"fas fa-lock fa-lg me-3 fa-fw\"></i>\n                      <div class=\"form-outline flex-fill mb-0\">\n                          <label class=\"form-label\" for=\"form3Example4c\">Password</label>\n                        <input type=\"password\" id=\"empPassword\" name=\"empPassword\" \n                        [(ngModel)] = \"facultyObj.empPassword\" class=\"form-control\" />\n                      </div>\n                    </div>\n                </div>\n                   \n  \n                    <div class=\"d-flex justify-content-center mx-4 mb-3 mb-lg-4\">\n                      <button type=\"submit\" class=\"btn btn-primary btn-xl\">Login</button>\n                      \n                    </div>\n                </form>\n                    <div class=\"login\">\n                        Don't Have An Account? \n                        <a href = \"bitsfundreg\"> Create an account </a>\n                    </div>\n  \n  \n                </div>\n                <div class=\"col-md-4 col-lg-2 col-xl-5 d-flex align-items-center order-1 order-lg-0\">\n  \n                  <img id=\"signupimg\" src=\"assets/Images/login-image.jpg\"\n                    class=\"img-fluid\" alt=\"Sample image\">\n  \n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </section>\n\n  "]},"metadata":{},"sourceType":"module"}